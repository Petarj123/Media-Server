{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5c6101e4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"login-wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"login-container\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Login\", -1 /* HOISTED */));\nconst _hoisted_4 = [\"onSubmit\"];\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Login\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.handleSubmit, [\"prevent\"])\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.usernameOrEmail = $event),\n    placeholder: \"Username or Email\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.usernameOrEmail]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event),\n    placeholder: \"Password\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.password]]), _hoisted_5, _createVNode(_component_router_link, {\n    to: \"/register\",\n    class: \"register-btn\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Register\")]),\n    _: 1 /* STABLE */\n  })], 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_4)])]);\n}","map":{"version":3,"names":["class","_createElementVNode","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onSubmit","_withModifiers","$setup","handleSubmit","usernameOrEmail","$event","placeholder","required","password","_hoisted_5","_createVNode","_component_router_link","to"],"sources":["/home/petarjankovic/Documents/GitHub/MediaServerFrontend/media-server-frontend/src/views/LoginView.vue"],"sourcesContent":["<template>\n    <div class=\"login-wrapper\">\n        <div class=\"login-container\">\n            <h2>Login</h2>\n            <form @submit.prevent=\"handleSubmit\">\n                <input type=\"text\" v-model=\"usernameOrEmail\" placeholder=\"Username or Email\" required />\n                <input type=\"password\" v-model=\"password\" placeholder=\"Password\" required />\n                <button type=\"submit\">Login</button>\n                <router-link to=\"/register\" class=\"register-btn\">Register</router-link>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport axios from 'axios'\nimport router from '@/router';\n\nconst usernameOrEmail = ref('')\nconst password = ref('')\n\nasync function handleSubmit() {\n    try {\n        const response = await axios.post('http://192.168.0.18:8081/api/auth/login', {\n            usernameOrEmail: usernameOrEmail.value,\n            password: password.value\n        })\n\n        if (response.status === 200 && response.data && response.data.token) {\n            localStorage.setItem('token', response.data.token);\n            router.push('/home');\n        } else {\n            alert('Login failed!')\n        }\n    } catch (error) {\n        if (error.response && error.response.data) {\n            const exceptionResponse = error.response.data;\n            alert(`${exceptionResponse.exception}: ${exceptionResponse.message}`);\n        } else {\n            alert('Error during login:', error);\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.login-wrapper {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n    background-color: #f7f8fc;\n\n    .login-container {\n        width: 90%;\n        max-width: 450px; // Made it a bit bigger for larger screens\n        margin: 0 auto;\n        padding: 20px;\n        border: 1px solid #e0e0e0;\n        border-radius: 8px;\n        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n\n        h2 {\n            text-align: center;\n            margin-bottom: 20px;\n        }\n\n        form {\n            display: flex;\n            flex-direction: column;\n\n            input {\n                padding: 12px;  // Increased padding slightly\n                margin-bottom: 10px;\n                border: 1px solid #e0e0e0;\n                border-radius: 4px;\n            }\n\n            button {\n                padding: 12px;  // Increased padding slightly\n                margin-bottom: 10px;  // Added margin to separate from Register button\n                border: none;\n                border-radius: 4px;\n                background-color: #4CAF50;\n                color: white;\n                cursor: pointer;\n                transition: background-color 0.3s;\n\n                &:hover {\n                    background-color: #45a049;\n                }\n            }\n\n            .register-btn {\n                display: block;\n                width: 100%;\n                text-align: center;\n                padding: 12px;\n                border: none;\n                border-radius: 4px;\n                background-color: #f0f0f0;\n                color: #333;\n                text-decoration: none;\n                transition: background-color 0.3s;\n\n                &:hover {\n                    background-color: #ddd;\n                }\n            }\n        }\n    }\n}\n</style>"],"mappings":";;;EACSA,KAAK,EAAC;AAAe;;EACjBA,KAAK,EAAC;AAAiB;gEACxBC,mBAAA,CAAc,YAAV,OAAK;;gEAILA,mBAAA,CAAoC;EAA5BC,IAAI,EAAC;AAAQ,GAAC,OAAK;;;;uBANvCC,mBAAA,CAUM,OAVNC,UAUM,GATFH,mBAAA,CAQM,OARNI,UAQM,GAPFC,UAAc,EACdL,mBAAA,CAKO;IALAM,QAAM,EAAAC,cAAA,CAAUC,MAAA,CAAAC,YAAY;sBAC/BT,mBAAA,CAAwF;IAAjFC,IAAI,EAAC,MAAM;+DAAUO,MAAA,CAAAE,eAAe,GAAAC,MAAA;IAAEC,WAAW,EAAC,mBAAmB;IAACC,QAAQ,EAAR;iDAAjDL,MAAA,CAAAE,eAAe,E,mBAC3CV,mBAAA,CAA4E;IAArEC,IAAI,EAAC,UAAU;+DAAUO,MAAA,CAAAM,QAAQ,GAAAH,MAAA;IAAEC,WAAW,EAAC,UAAU;IAACC,QAAQ,EAAR;iDAAjCL,MAAA,CAAAM,QAAQ,E,GACxCC,UAAoC,EACpCC,YAAA,CAAuEC,sBAAA;IAA1DC,EAAE,EAAC,WAAW;IAACnB,KAAK,EAAC;;sBAAe,MAAQ,C,iBAAR,UAAQ,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}